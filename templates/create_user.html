<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <script type="text/javascript">
        function create_user() {
            let username = document.getElementById('username').value;
            console.log(username);

            sessionStorage.setItem('username', username);
            sessionStorage.setItem('position', '1');
            
            console.log(sessionStorage.getItem('position'));
            console.log(sessionStorage.getItem('username'));
            
            const csrftoken = Cookies.get('csrftoken');

            fetch("/game/create_user/create", {
                method: "POST",
                headers: {
                    "Content-type": "application/json; charset=UTF-8",
                    'X-CSRFToken': csrftoken,
                },
                body: JSON.stringify({
                    "username": username,
                })
            })
                .then(response => {
                    console.log(response);
                    return response.text()
                })
                .catch(error => console.error(error))
            }
    </script>

    <input type="text" id="username">
    <button onclick="create_user()">create</button>
</body>
</html>